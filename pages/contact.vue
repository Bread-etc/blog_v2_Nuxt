<template>
  <div class="flex rounded-xl bg-transparent p-4">
    <div
      class="flex h-[92vh] flex-1 flex-col overflow-auto rounded-xl dark:text-white"
    >
      <h1 class="text-2xl">æ¬¢è¿æ¥åˆ°æˆ‘çš„ç•™è¨€æ¿ ğŸ‘‹</h1>
      <span class="py-1"
        >ç» Github ç™»å½•å,åœ¨ä¸‹æ–¹çš„ç•™è¨€æ¡†ä¸­è¾“å…¥æ‚¨çš„ç•™è¨€å†…å®¹å³å¯</span
      >
      <span class="py-1">è¯„è®ºåŒºæ”¯æŒmarkdownå’ŒemojiğŸ˜˜</span>
      <span class="py-1">æœ¬ç«™å†…å®¹ä»…ä¾›å­¦ä¹ å‚è€ƒä½¿ç”¨</span>
      <Divider />
      <div ref="commentRef" id="comment"></div>
    </div>
  </div>
</template>

<script lang="ts" setup>
import { onMounted, ref } from "vue";

const commentRef = ref<HTMLElement | null>(null);
onMounted(() => {
  try {
    if (commentRef.value) {
      const script = document.createElement("script");
      script.src = "https://utteranc.es/client.js";
      script.async = true;
      script.crossOrigin = "anonymous";
      script.setAttribute("repo", "Bread-etc/blog_v2_Nuxt");
      script.setAttribute("issue-term", "pathname");
      script.setAttribute("label", "ğŸ’¬comment");
      script.setAttribute("theme", "preferred-color-scheme");
      commentRef.value.appendChild(script);
    } else {
      console.warn(
        "Comments won't load because the commentRef element is null.",
      );
    }
  } catch (err) {
    console.error("Comments loading failed.", err);
  }
});
</script>

<style scoped>
:deep(#comment) {
  .utterances {
    max-width: none;
  }
}

:deep(Divider)::before {
  @apply border-black dark:border-white /* è½»æ¨¡å¼ä¸‹ä¸ºé»‘è‰²ï¼Œæš—æ¨¡å¼ä¸‹ä¸ºç™½è‰² */
}
</style>
